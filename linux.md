### **Патч-менеджмент и регламентные работы для Linux-серверов**  

Для обеспечения безопасной и стабильной эксплуатации парка Linux-серверов необходимо выполнять регулярные регламентные работы. Ниже приведен перечень ключевых задач, которые должен выполнять системный администратор.  

---

## **1. Управление обновлениями (Патч-менеджмент)**  
**Цель:** Поддержание актуального состояния ОС и ПО для устранения уязвимостей.  

### **1.1. Проверка и установка обновлений**  
- Еженедельно проверять доступные обновления (`apt update / yum check-update`).  
- Устанавливать обновления безопасности в приоритетном порядке (`unattended-upgrades` для Debian/Ubuntu, `yum-cron` для RHEL/CentOS).  
- Тестировать обновления на тестовых серверах перед развертыванием в prod.  
- Вести журнал установленных обновлений (`/var/log/apt/history.log`, `/var/log/yum.log`).  

### **1.2. Политика обновлений**  
- Критические обновления безопасности – установка в течение 72 часов.  
- Остальные обновления – по графику (ежемесячно/ежеквартально).  
- Автоматические перезагрузки только для серверов с отказоустойчивостью (HA-кластеры).  

---

## **2. Проверка резервного копирования**  
**Цель:** Гарантия восстановления данных в случае аварии.  

- **Ежедневно:** Проверять успешность бэкапов (логи, уведомления).  
- **Еженедельно:** Проверять целостность бэкапов (тестовое восстановление).  
- **Ежемесячно:** Аудит политик бэкапов (удержание, шифрование, гео-распределение).  

---

## **3. Учетные записи и безопасность аутентификации**  
**Цель:** Минимизация риска несанкционированного доступа.  

### **3.1. Мониторинг учетных записей**  
- Проверять дату последнего входа (`lastlog`, `last -a`).  
- Отключать неиспользуемые учетные записи (более 90 дней без активности).  
- Проверять дату последнего изменения пароля root (`chage -l root`).  

### **3.2. Политика паролей и SSH**  
- Запретить вход под root (`PermitRootLogin no` в `/etc/ssh/sshd_config`).  
- Использовать ключи SSH вместо паролей (`PasswordAuthentication no`).  
- Ограничить доступ по SSH только с доверенных IP (`AllowUsers user@IP`).  
- Настроить Fail2Ban для защиты от bruteforce.  

---

## **4. Дополнительные меры безопасности**  
**Цель:** Усиление защиты серверов.  

### **4.1. Мониторинг и аудит**  
- Включить логирование всех действий (`auditd`).  
- Настроить алерты на подозрительную активность (SIEM, OSSEC).  

### **4.2. Ограничение сетевого доступа**  
- Минимизировать открытые порты (`ss -tulnp`, `iptables/nftables`).  
- Настроить firewall (только необходимые сервисы).  

### **4.3. SELinux/AppArmor**  
- Активировать и настроить Mandatory Access Control (MAC).  

---

## **5. Плановые регламентные работы**  
**Цель:** Поддержание стабильности инфраструктуры.  

| **Периодичность** | **Действие** |
|------------------|-------------|
| **Ежедневно** | Проверка логов, мониторинг состояния серверов, проверка бэкапов. |
| **Еженедельно** | Установка обновлений безопасности, проверка свободного места на дисках. |
| **Ежемесячно** | Аудит пользователей, проверка политик безопасности, тестирование бэкапов. |
| **Ежеквартально** | Пересмотр правил фаервола, обновление политик доступа, пентест. |

---

## **Вывод**  
Системный администратор должен выполнять эти задачи в соответствии с утвержденным регламентом. Автоматизация (Ansible, Puppet, Cron) поможет снизить нагрузку, но критичные действия (обновления, бэкапы) требуют ручной проверки.  

Дополнительно рекомендуется вести **журнал изменений** и проводить **регулярные аудиты безопасности**.
